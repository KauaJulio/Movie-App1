<ion-header class="ion-no-border heroflex-header" [translucent]="true">
  <ion-toolbar>
    <ion-title class="heroflex-logo">
      <span class="heroflex-text">Minha Lista</span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="watchlist-content">
  @if (watchlistItems.length === 0) {
    <div class="empty-state">
      <div class="empty-icon">‚ù§Ô∏è</div>
      <h2>Sua lista est√° vazia</h2>
      <p>Adicione filmes e s√©ries √† sua lista para assisti-los depois</p>
    </div>
  } @else {
    <div class="watchlist-header">
      <h2>{{ watchlistItems.length }} item(ns) na sua lista</h2>
      @if (watchlistItems.length > 0) {
        <ion-button size="small" fill="clear" (click)="clearWatchlist()">
          Limpar Tudo
        </ion-button>
      }
    </div>

    <div class="watchlist-grid">
      @for (item of watchlistItems; track item.id) {
        <div class="watchlist-item" (click)="openMovieDetail(item)">
          <div class="item-poster">
            <img
              [src]="'https://image.tmdb.org/t/p/w342' + item.poster_path"
              alt="{{ item.title }}"
              class="poster-img"
            />
            <div class="item-overlay">
              <ion-button
                size="small"
                fill="clear"
                class="delete-btn"
                (click)="removeFromWatchlist(item, $event)"
              >
                <ion-icon name="trash"></ion-icon>
              </ion-button>
            </div>
          </div>
          <div class="item-info">
            <h3>{{ item.title }}</h3>
            <p class="item-rating">‚≠ê {{ item.vote_average.toFixed(1) }}/10</p>
            <p class="item-type">{{ item.type === 'movie' ? 'üé¨ Filme' : 'üì∫ S√©rie' }}</p>
          </div>
        </div>
      }
    </div>
  }
</ion-content>

